<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>《YD_T 3594-2019 基于LTE的车联网通信安全技术要求》阅读笔记——PC5  - 我的博客</title><meta name="Description" content="This is my cool site"><meta property="og:title" content="《YD_T 3594-2019 基于LTE的车联网通信安全技术要求》阅读笔记——PC5 " />
<meta property="og:description" content="通信架构 C-V2X通信有两种操作模式，基于PC5和基于LTE-Uu，这个标准涵盖了这两个模式。但目前自己可能更关注PC5一些。 考虑V2X设备" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rustintherubble.github.io/posts/2022/11/01/c-v2x_requirements_of_security/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-02T17:47:15+08:00" />
<meta property="article:modified_time" content="2022-11-02T17:47:15+08:00" /><meta property="og:site_name" content="My cool site" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="《YD_T 3594-2019 基于LTE的车联网通信安全技术要求》阅读笔记——PC5 "/>
<meta name="twitter:description" content="通信架构 C-V2X通信有两种操作模式，基于PC5和基于LTE-Uu，这个标准涵盖了这两个模式。但目前自己可能更关注PC5一些。 考虑V2X设备"/>
<meta name="application-name" content="我的博客">
<meta name="apple-mobile-web-app-title" content="我的博客"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://rustintherubble.github.io/posts/2022/11/01/c-v2x_requirements_of_security/" /><link rel="prev" href="https://rustintherubble.github.io/posts/2022/11/01/asn.1-v2x/" /><link rel="next" href="https://rustintherubble.github.io/posts/2022/11/20/uper/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "《YD_T 3594-2019 基于LTE的车联网通信安全技术要求》阅读笔记——PC5 ",
        "inLanguage": "zh-cn",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/rustintherubble.github.io\/posts\/2022\/11\/01\/c-v2x_requirements_of_security\/"
        },"genre": "posts","keywords": "协议标准","wordcount":  1663 ,
        "url": "https:\/\/rustintherubble.github.io\/posts\/2022\/11\/01\/c-v2x_requirements_of_security\/","datePublished": "2022-11-02T17:47:15+08:00","dateModified": "2022-11-02T17:47:15+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "渤海深处"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="我的博客">我的博客</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/"> 关于 </a><a class="menu-item" href="/"> 首页 </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="我的博客">我的博客</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/" title="">关于</a><a class="menu-item" href="/" title="">首页</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">《YD_T 3594-2019 基于LTE的车联网通信安全技术要求》阅读笔记——PC5 </h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>渤海深处</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/v2x/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>V2X</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2022-11-02">2022-11-02</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;约 1663 字&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;预计阅读 4 分钟&nbsp;

                <i class="fa fa-eye" aria-hidden="true"></i>&nbsp;            
                <span id="busuanzi_container_page_pv">
                    <span id="busuanzi_value_page_pv"></span>
                  </span>次
            </div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ol>
    <li><a href="#通信架构">通信架构</a></li>
    <li><a href="#通信安全要求">通信安全要求</a>
      <ol>
        <li><a href="#网元的安全要求">网元的安全要求</a></li>
        <li><a href="#v5接口安全要求">V5接口安全要求</a></li>
      </ol>
    </li>
    <li><a href="#v5接口的安全过程">V5接口的安全过程</a>
      <ol>
        <li><a href="#概述">概述</a></li>
        <li><a href="#安全基本元素说明">安全基本元素说明</a></li>
        <li><a href="#安全类数据结构总体要求">安全类数据结构总体要求</a></li>
        <li><a href="#公钥证书格式">公钥证书格式</a></li>
        <li><a href="#消息签名流程">消息签名流程</a></li>
        <li><a href="#加密消息流程">加密消息流程</a></li>
        <li><a href="#密钥协商">密钥协商</a></li>
      </ol>
    </li>
    <li><a href="#其他接口安全过程">其他接口安全过程</a></li>
  </ol>
</nav></div>
            </div><div class="content" id="content"><h2 id="通信架构">通信架构</h2>
<p>C-V2X通信有两种操作模式，基于PC5和基于LTE-Uu，这个标准涵盖了这两个模式。但目前自己可能更关注PC5一些。</p>
<p>考虑V2X设备同时具备PC5和LTE-Uu模式，那么Uu模式下具有归属地，标准中将基于PC5和LTE-Uu的V2X通信架构划分出了漫游和非漫游的情况。</p>
<p>基于LTE的车联网通信安全包括承载安全（PC5安全或LTE-Uu安全）和V2X应用安全两部分。承载安全都是PDCP、RLC、MAC、PHY。V2X应用安全除了V2X应用，PC5比Uu多了一个V2X网络层。</p>
<p>整个应用层通信安全架构如图
<figure><img src="/images/Communication%20security%20architecture%20of%20Internet%20of%20Vehicles%20application%20layer.jpg" width="519" height="410"/>
</figure>
</p>
<hr>
<h2 id="通信安全要求">通信安全要求</h2>
<h3 id="网元的安全要求">网元的安全要求</h3>
<p>对于PC5通信，V2X设备应支持基于证书的应用层安全机制</p>
<p>对于Uu通信，V2X设备应支持LTE通信安全机制，包括基于ESP-AKA的双向认证、空口加密和信令消息的完整性保护，其中空口加密由V2X设备和LTE网络协商决定是否启用。</p>
<p>为保护用户隐私，V2X用户侧设备可在应用层进行匿名化处理。V2X设备应支持使用安全运行环境、安全单元或安全处理器等对敏感信息（如密钥、证书等）的保护。</p>
<h3 id="v5接口安全要求">V5接口安全要求</h3>
<p>消息接收方应支持认证消息发送方，V2X设备上的V2X应用可能既是消息发送方，又是消息接收方，V2X应用之间传输的数据应<strong>支持完整性保护</strong>。</p>
<p>V2X应用之间传输的数据<strong>可支持机密性保护</strong>。</p>
<p>V2X应用之间传输的数据应<strong>支持抗重放攻击</strong>。</p>
<hr>
<h2 id="v5接口的安全过程">V5接口的安全过程</h2>
<h3 id="概述">概述</h3>
<p>V2X设备间通过V5接口交互，安全通信由应用层处理。</p>
<p>大体来说就是证书管理系统向V2X发送方设备颁发用于签发消息的公钥证书，给V2X接收方以<strong>安全的方式</strong>提供CA公钥证书。另外还建议给发送方发多个证书，让其随机选择，以增加安全性。</p>
<p>发送方：V2X设备使用公钥证书对应的私钥对消息进行数字签名，将签名消息连同公钥证书或证书链一同播发出去（如图中②所示）</p>
<p>接收方：接收方的V2X设备可将颁发公钥证书(Co)的CA证书(Cca2)设置为可信证书，接收方的V2X设备利用上述CA证书验证发送方的公钥证书，这样V5接口消息中可以不携带完整证书链，从而节省了空口传输资源。验证过程为首先利用CA公钥证书验证消息中携带的公钥证书或证书链，然后利用公钥证书中的公钥验证签名以检查消息的完整性。</p>
<p>接收方V2X设备成功验证对端的公钥证书(Co)后，可将该证书的hash值保存在本地，后续可以通过验证证书hash的方式验证该证书，从而减少证书验证所需的密码学操作。</p>
<p>整个安全流程如图
<figure><img src="/images/V5_Interface_safety_process.jpg" width="678" height="498"/>
</figure>
</p>
<h3 id="安全基本元素说明">安全基本元素说明</h3>
<p>对编码规则进行了简单说明，并要求数据结构定义、哈希算法、椭圆曲线、对称加密算法、签名公钥、加密公钥、8字节哈希值、32位时间、地理有效区域、圆形区域、矩形区域、多边形区域、二维位置信息，纬度、经度满足<strong>GB/T 37376-2019</strong>的相关要求。
已识别区域应满足<strong>IEEE Std 1609.2-2016</strong>的相关要求。</p>
<h3 id="安全类数据结构总体要求">安全类数据结构总体要求</h3>
<p>在通过PC5接口进行安全类数据通信时，要至少包含3个信息：</p>
<ul>
<li>信息版本：用于描述车辆通信采用的通信数据结构的版本</li>
<li>数据类型：用于描述当前车辆通信采用的通信数据结构类型，其中至少包含以下三种类型表示
<ul>
<li>明文数据类型</li>
<li>签名数据类型</li>
<li>加密数据类型</li>
</ul>
</li>
<li>信息内容：用于表示当前信息报文的具体数据及相应的密码算法计算结果值。</li>
</ul>
<h3 id="公钥证书格式">公钥证书格式</h3>
<p>遵循GB/T 37376-2019的相关要求，包括消息证书中的证书结构、版本、签名者消息、主题信息、主题属性、有效性限定、签名；CA证书，证书撤销列表。CA证书的格式还要符合GM/T 0015标准要求。</p>
<h3 id="消息签名流程">消息签名流程</h3>
<p>签名流程和验签计算流程如下</p>
<figure><img src="/images/signature_process.jpg" width="768px" height="801px"/>
</figure>

<figure><img src="/images/verification_and_signature_calculation_process.jpg" width="756px" height="829px"/>
</figure>

<h3 id="加密消息流程">加密消息流程</h3>
<p>给出了非对称密钥数据要求和对称密钥数据要求。</p>
<p>随机加密应由对称加密和非对称加密组合而成，非对称加密应加密对称加密的密钥，而数据则由对称密钥加密。</p>
<h3 id="密钥协商">密钥协商</h3>
<p>密钥协商用于通信者A、B双方共同建立会话密钥。</p>
<p>密钥协商数据应使用密文数据进行传输，在<strong>没有合规</strong>的协商密钥时其使用的加密计算流程应使用<strong>随机加密</strong>计算流程，在<strong>存在合规</strong>的协商密钥时其使用的加密计算流程应使用<strong>协商加密</strong>计算流程。</p>
<hr>
<h2 id="其他接口安全过程">其他接口安全过程</h2>
<p>指网元之间，V3接口，MB2接口的安全过程。</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2022-11-02</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://rustintherubble.github.io/posts/2022/11/01/c-v2x_requirements_of_security/" data-title="《YD_T 3594-2019 基于LTE的车联网通信安全技术要求》阅读笔记——PC5 " data-hashtags="协议标准"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://rustintherubble.github.io/posts/2022/11/01/c-v2x_requirements_of_security/" data-hashtag="协议标准"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Hacker News" data-sharer="hackernews" data-url="https://rustintherubble.github.io/posts/2022/11/01/c-v2x_requirements_of_security/" data-title="《YD_T 3594-2019 基于LTE的车联网通信安全技术要求》阅读笔记——PC5 "><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://rustintherubble.github.io/posts/2022/11/01/c-v2x_requirements_of_security/" data-title="《YD_T 3594-2019 基于LTE的车联网通信安全技术要求》阅读笔记——PC5 "><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://rustintherubble.github.io/posts/2022/11/01/c-v2x_requirements_of_security/" data-title="《YD_T 3594-2019 基于LTE的车联网通信安全技术要求》阅读笔记——PC5 "><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E5%8D%8F%E8%AE%AE%E6%A0%87%E5%87%86/">协议标准</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/2022/11/01/asn.1-v2x/" class="prev" rel="prev" title="抽象语法标记ASN.1与V2X"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>抽象语法标记ASN.1与V2X</a>
            <a href="/posts/2022/11/20/uper/" class="next" rel="next" title="ASN.1 PER 编码规则">ASN.1 PER 编码规则<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="gitalk" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://github.com/gitalk/gitalk"></a>Gitalk</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.101.0">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">渤海深处</a></span>
                <div >
                    <i class="fa fa-user"></i>&nbsp;<span id="busuanzi_value_site_uv"></span>&nbsp;|&nbsp;
                    <i class="fa fa-eye"></i>&nbsp;<span id="busuanzi_value_site_pv"></span>
                </div>
            </div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":50},"comment":{"gitalk":{"admin":["rustInTheRubble"],"clientID":"68458203ea232e8a6c8a","clientSecret":"c9fd1ba7687d190c51b209d6e54d10d314432ac3","id":"2022-11-02T17:47:15+08:00","owner":"rustInTheRubble","repo":"rustInTheRubble.github.io","title":"《YD_T 3594-2019 基于LTE的车联网通信安全技术要求》阅读笔记——PC5 "}}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
